# mysql 数据库表设计规范纲要

## 前言：选用 mysql 的理由

免费、流行。nosql 虽在内存数据库缓存上有优化，但在主流业务上还是很难替代 sql
关系型数据库的积累。

## 命名规范

* 数据库名加 `db_` 前缀；
* 表名加 `t_` 前缀；
* 列名加 `F_` 前缀；
* 索引名加 `idx_` 前缀，接被索引的列名（联合索引名超长时可缩写）
* 多个单词用下划线分隔，小写

## 数据类型规范

* 一般只用整数、字符串与时间日期类型的字段；
* 整数在满足需求情况下尽量使用小整数，尽量使默认值 0 合理化；
* 字符串使用 varchar ；
* 大的二进制文件不存数据库，存外部文件系统，数据库存获取路径；
* 为求兼容不直接存 json 数据类型，可将某些字段存为 json 数组或 json 对象的字符
  串化表示，要索引查询的字段不放在 json 内部，始终保持在外层普通字段中；但是尽
  可能不要用到这条。

## 其他规范

* 存储引擎一般使用 InnoDB ，除非存要支持全文索引的文章内容，使用 MyISAM ；
* 字符编码使用 utf-8 ；
* 每个列名加上注释，每张表加上注释（COMMENT）；
* 大部分数据表（除非作为配制表之用）记录加上 `F_create_time` 标识创建时间，需
  要经常修改的记录，再加上 `F_update_time` 字段。
* 必须要有主键，没有合适的主键就加自增序列号；根据业务合理添加索引列，被索引列
  不要有 NULL 值，设置合适的默认值。
